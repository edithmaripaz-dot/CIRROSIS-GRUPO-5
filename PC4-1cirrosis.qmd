---
title: "Exploración de los datos imputados usando MICE"
author: "GRUPO"
format: html
editor: visual
INTEGRANTES:
●MARÍA LUCIA JACOBO ATUNCAR  
●GAMBOA CANALES MARIPAZ  
●ARIANA ABIGIAL VIDAL ROMUCHO 
●FERNANDA GIANELLA CASTILLA SALVADOR  
●SEBASTIAN PALOMINO ROJAS  
●KRISTY STEFANY ALVAREZ PEVES
Basededatos: cirrosis.csv
---

## CARGAR PAQUETE Y DATOS

```{r}
install.packages("mice")
library(mice)
```

## **Uso de MICE para observar el patrón de datos faltante**

El paquete proporciona una buena función para obtener una mejor comprensión del patrón de datos faltantes`micemd.pattern()`

```{r}
md.pattern(cirrosis)  #Para poder visualiza el patrón de datos faltantes
```

## **Imputación de los datos que faltan**

La función se encarga del proceso de imputación`mice()`

```{r}
imputaciones <- mice(cirrosis, m = 5, method = "pmm", maxit = 10, seed = 123)
```

```{r}
data_completo <- complete(imputaciones, action = "long")  # o usa 1, 2, ..., m para elegir una imputación específica

```

```{r}
library(VIM)
aggr_plot <- aggr(cirrosis, col=c('navyblue','red'), numbers=TRUE, sortVars=TRUE, labels=names(cirrosis), cex.axis=.7, gap=3, ylab=c("Histogram of missing data","Pattern"))
```

**La función se encarga del proceso de imputación`mice()`**

```{r}
tempData <- mice(cirrosis,m=5,maxit=50,meth='pmm',seed=500)
summary(tempData)
```

***comprobar los datos imputados, por ejemplo, para la variable Ozono, debe introducir la siguiente línea de código***

```{r}
tempData$imp$Ozone

```

**Verificar el método de imputación utilizado para cada variable, es muy fácil de hacer`mice`**

```{r}
tempData$meth
```

```{r}
modelFit1 <- with(tempData,lm(ID ~ Dias_Seguimiento+ Edad +Colesterol ))
summary(pool(modelFit1))
```

```{r}
tempData2 <- mice(cirrosis,m=50,seed=245435)
modelFit2 <- with(tempData2,lm(ID ~ Dias_Seguimiento+ Edad +Colesterol))
summary(pool(modelFit2))
```
